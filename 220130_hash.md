### 220130

- 저번에 했던 질문 중에 해시 관련 내용이 있어서 해시에 대해서 알아보았다.
- 리스트를 포함한 튜플도 튜플인데 그냥 일반적인 튜플과 달리 왜 딕셔너리의 키로 활용되지 못하는가? 라는 질문이었다.

- 답변은 "정확하게는 딕셔너리의 키로 활용한 객체는 **해시가능한** 객체인데, 리스트를 포함한 튜플의 경우에는 해시가능한 객체가 아니기 때문에 불가능하다"는 것
- 그래서 일단 해시가 무엇인지 알아보았다.



## 해시

- 우선 딕셔너리의 키는 hashable(해시가능한) 객체만 가능하다.
- 이 때 해시가능하다는 것은 `hash`함수에 인자로 들어갈 수 있는 객체를 의미한다.
- 그렇다면 `hash`함수란 무엇일까? 그 전에 해싱에 대해서 알아보자.



- 해싱이란 해시테이블을 활용한 탐색 방법을 의미한다.
- 해시테이블이란 (Key, Value)로 데이터를 저장하는 자료구조 중 하나로 키 연산에 의해 접근이 가능한 구조이다.
- 우선 데이터를 저장할 배열을 만든다.
- 그리고 저장하고자 하는 Key 값을 **해시함수**를 통해서 해시 값을 구하고, 그 값을 배열의 길이로 mod 연산을 수행해서 나온 값을 인덱스로 하는 위치에 (Key, Value)를 저장한다.
  - 이 때 mod 값이 같은 경우에는 같은 위치에 연결하여 저장하게 되는데 이렇게 연결하는 방법도 여러 가지가 있다. 그 중 하나로 리스트를 이용하여 연결하는 방법을 '연쇄법'이라고 한다.
- 이제 배열에서 찾고 싶은 데이터를 찾기 위해서는
  - 찾고자 하는 키를 해시함수를 통해서 해시 값을 구한다. 
  - 그 값을 mod 연산을 해서 나온 값을 인덱스로 하는 위치로 접근해서, 하나의 값이 있다면 그 값을 반환하면 되고, 만약 해당 위치에 여러 개의 값이 연결되어 있다면 그 위치에서 선형 탐색을 진행한다. 그렇게 일치하는 키를 찾으면 그에 대응되는 값을 도출한다.

- 해시 테이블에 사용하는 배열의 크기가 너무 작으면 해시 값의 충돌이 많아지고, 그에 따라 선형탐색의 빈도가 늘어나게 된다.
- 반대로 배열의 크기가 너무 크다면 데이터가 없는 공간이 많아져서 메모리가 낭비된다.
  - 그렇다면 적정 크기의 배열을 정하는 방법론도 있는지?



## 해시함수

- 해시함수란 주어진 데이터를 고정 길이의 불규칙적인 숫자로 변환하는 함수이다. 이를 통해 출력된 불규칙한 숫자를 '해시값'이라고 한다.
- 해시함수의 특징
  - 출력되는 데이터의 길이가 고정되어 있다.
    - 어떤 함수를 쓰느냐에 따라 길이는 달라지지만, 동일한 함수를 사용한다면 아무리 큰 데이터를 입력해도 출력되는 해시값의 길이는 고정
  - 입력되는 값이 같다면 출력되는 값도 반드시 동일하다.
  - 비슷한 데이터를 입력한다고 해서 출력값도 반드시 비슷한 것은 아니다.
  - 전혀 다른 데이터를 입력하더라도, 동일한 해시값이 나올 가능성이 존재하긴 한다.
  - 해시값을 통해 원데이터를 역산하는 것은 사실상 불가능하다.
    - ~~가능하기도 하다는 뜻??~~